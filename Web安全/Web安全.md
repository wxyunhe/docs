## XSS

## CSRF

## SQL 注入

？什么是sql注入

### 实操

按照数据类型分为 数字型 和 字符型 注入
也可按照请求类型分为 GET POST 和 Cookie 注入

数字型注入，指输入的参数为整数的注入，例如id、age
多出现在asp php 等弱类型网站中

如何判断数字型注入？
1. 在参数id后加上单引号，返回数据库报错信息（接收参数期望数字，实际传入字符串，因此报错）
2. 在参数id后加上&1=1，和不加结果一样（语法正确）
3. 加上&1=2，返回空结果（语法正确，1=2为falsy）

如果上述三条全部满足，证明有sql注入漏洞


字符型注入，指输入的参数为字符串的注入，例如 username

只要是字符型注入，必须闭合单引号及注释掉多余的代码。

> select * from user where username = '`admin' or 1=1-- `

-- 为 sql 中的注释，-- 后的语句无效，--后必须有空格

### 原理

sql 注入的问题是后台使用字符串拼接的方法构造 sql，构造 sql 的一部分内容由用户提供，这部分内容包含的参数没有经过过滤，使带有特殊符号的语句被 sql 解析器执行


### 防御方法

## 文件上传绕过

动态脚本语言会遇到的问题，多出现在asp php 等弱类型网站中

1. 无限制的文件上传，比如php网站，上传一个php文件
2. 空字符截断方法。
	1. 网站做了文件格式限制，在构建上传请求中，在php文件名后增加空字符+允许上传的文件格式后缀名。
	2. php函数取文件名从后向前，保留文件名为空字符截断后前面的部分（？）

### 防御方法
1. 不要信任用户端上传的文件名，需要对敏感参数进行替换，或者直接随机起名字
2. 如果必须要固定名字，建议只支持文件下载，将 文件类型 设置为 application/octet-stream

## XSS 跨站脚本漏洞

分为存储型和反射型



## 面试问题：你对Web安全了解多少？

1. 简单介绍web安全
2. OWASP
3. 常见的几种类型